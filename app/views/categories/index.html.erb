<div class="card mt-5 shadow-sm rounded">
    <div class="card-body">

        <h2 class="card-title d-flex justify-content-between mb-4">Journals
            <i class="fas fa-home"></i><span><%= link_to 'New Journal', new_category_path, class: 'btn btn-success btn-sm' %></span>
        </h2>
        
        <% @categories.each do |category| %>
            <div class="card mb-2 category-card shadow-sm rounded">
                <div class="card-body">
                    <div class="progress w-25 mb-1">
                        <div class="progress-bar bg-secondary" role="progressbar" style="width: <%= category.percent_complete %>%;" aria-valuenow="<%= category.percent_complete %>" aria-valuemin="0" aria-valuemax="100"><%= category.total_complete %> / <%= category.total_tasks %>
                        </div>
                    </div>
                    <h5 class="card-title d-flex justify-content-between align-items-start mb-0">
                    <div class="d-flex align-items-start flex-column justify-content-start">
                        
                        <span class="badge bg-<%= category.badge_color %> text-center mb-2 mt-1"><%= category.status %> </span>
                        <p><%= link_to category.category_name, category_path(category), class: 'text-decoration-none display-6 lead fw-normal' %></p>
                    </div>
                    <div>
                        <%= link_to 'Edit', edit_category_path(category), class: 'btn btn-light btn-sm' %>
                        <%= link_to 'Delete', category_path(category), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-secondary btn-sm' %>
                    </div>
                    </h5>

                    <p class='my-2 text-secondary'><%= category.description %></p>  
                </div>
            </div>
        <% end %>
    </div>
</div>

<div class="text-center mt-2 mb-5">
    <%= link_to 'Back to Home', home_path %>
</div>

<%# span class='text-secondary'><small>(<%= category.total_complete / <%= category.total_tasks) tasks</small></span %>